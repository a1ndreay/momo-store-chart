# Helm chart for momo-store
## –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–π–ø–ª–∞–π–Ω–∞ –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è —á–∞—Ä—Ç–æ–≤

–ù–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —ç—Ç–∞–ø–µ –≤—ã —Å–æ–∑–¥–∞–ª–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É, –Ω–∞–¥–µ—é—Å—å –≤—ã –Ω–µ –∑–∞–±—ã–ª–∏ –∑–∞–ø–∏—Å–∞—Ç—å —Å–µ–±–µ –∑–Ω–∞—á–µ–Ω–∏—è `ALB_EXT_IPV4_ADDR`, `ALB_GROUP_NAME`, `ALB_SEC_GROUP`, `ALB_SUBNETS` –∏ `le_cert_id`, –∞ —Ç–∞–∫ –∂–µ –Ω–µ —É—Å–ø–µ–ª–∏ –ø–æ—Ç–µ—Ä—è—Ç—å —Å—É–ø–µ—Ä –≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã `~/.kube/config`. –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ä—Ç–æ–≤ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä–µ (CD).

‚ö†Ô∏è –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–∏–ª–∏—Ç–∞ __kubectl__ –∏ __helm__.

1. –°–æ–∑–¥–∞–π—Ç–µ Nexus-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π https://nexus.praktikum-services.tech/ —Ç–∏–ø: helm hosted, Deployment policy: allow redeploy., –æ–Ω –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —á–∞—Ä—Ç–æ–≤. –ù–µ —Å—Ç–æ–∏—Ç –≤–æ–ª–Ω–æ–≤–∞—Ç—å—Å—è, —Å—É–ø–µ—Ä —Å–µ–∫—å—é—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å—Å—è –≤ —á–∞—Ä—Ç –Ω–∞ —ç—Ç–∞–ø–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. 

2. –ß—Ç–æ–±—ã –Ω–∞—à CD –ø–∞–π–ø–∞–ª–∞–π–Ω –º–æ–≥ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–∞—Ç—å —Å –∫–ª–∞—Å—Ç–µ—Ä–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ [ref](https://yandex.cloud/ru/docs/managed-kubernetes/operations/connect/create-static-conf):
```bash
kubectl create -f sa.yaml
# serviceaccount/admin-user created
# clusterrolebinding.rbac.authorization.k8s.io/admin-user created
# secret/admin-user-token created
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ —á—Ç–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º –±–ª–æ–∫–µ –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ powershell, –∞ —Ç–∞–∫ –∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –∑–∞–ø–∏—Å–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `ALB_EXT_IPV4_ADDR`.
```powershell
# powershell
$SECRET = kubectl -n kube-system get secret -o json | ConvertFrom-Json | Select-Object -ExpandProperty items | Where-Object { $_.metadata.name -like "*admin-user*" }

$SA_TOKEN = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String($SECRET.data.token))

$CA_PATH = $(Resolve-Path ~/.kube/ca.pem).Path

kubectl config set-cluster sa-test2 --certificate-authority=$CA_PATH --embed-certs --server=https://<–∑–Ω–∞—á–µ–Ω–∏–µ ALB_EXT_IPV4_ADDR>

kubectl config set-credentials admin-user --token=$SA_TOKEN

kubectl config set-context default --cluster=sa-test2 --user=admin-user

kubectl config use-context default

kubectl get namespace
```

3. –¢–µ–ø–µ—Ä—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å External Secrets Operator:
```powershell
helm repo add external-secrets https://charts.external-secrets.io
# "external-secrets" has been added to your repositories

helm install external-secrets external-secrets/external-secrets --namespace external-secrets --create-namespace

kubectl create namespace ns

$ESO_CA_PATH = $(Resolve-Path ~/.kube/authorized-key.json).Path

kubectl --namespace ns create secret generic yc-auth --from-file=authorized-key=$ESO_CA_PATH

kubectl --namespace ns apply -f secret-store.yaml
```

3. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –Ω—É–∂–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ gitlab –≤—Å–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã:
|–ö–ª—é—á|–ó–Ω–∞—á–µ–Ω–∏–µ|–ü–æ—è—Å–Ω–µ–Ω–∏–µ|
|--- |---     |---      |
|"NEXUS_HELM_REPO"|"https://nexus.praktikum-services.tech/repository/<your-nexus-repo-name>/"|–∑–∞ –º–µ—Å—Ç–æ <your-nexus-repo-name> –ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ –∏–º—è nexus-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è |
|"NEXUS_HELM_REPO_USERNAME"||–í–∞—à –ª–æ–≥–∏–Ω –æ—Ç nexus|
|"NEXUS_HELM_REPO_PASSWORD"||–í–∞—à –ø–∞—Ä–æ–ª—å –æ—Ç nexus|
|"KUBECONFIG_USER_TOKEN"||–ø–æ–ª—É—á–∏—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É—è `echo $SA_TOKEN`|
|"KUBECONFIG_CONTEXT_NAMESPACE"|"default"||
|"KUBECONFIG_CLUSTER_CONTROLPLANE_ADDRESS"|"https://<ALB_EXT_IPV4_ADDR>"| –∑–∞–º–µ–Ω–∏—Ç–µ <ALB_EXT_IPV4_ADDR> –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ |
|"KUBECONFIG_CLUSTER_CERTIFICATE_AUTHORITY_DATA"||–ø–æ–ª—É—á–∏—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É—è `cat $CA_PATH`|
|"DOCKER_REGISTRY_URL"|"gitlab.praktikum-services.ru:5050"|—É–∫–∞–∑–∞–Ω–∏–µ –ø–æ—Ä—Ç–∞ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ! |
|"DOCKER_REGISTRY_USERNAME"||–í–∞—à –ª–æ–≥–∏–Ω –æ—Ç Gitlab |
|"DOCKER_REGISTRY_PASSWORD"||–í–∞—à –ø–∞—Ä–æ–ª—å –æ—Ç Gitlab|
|"BACKEND_REGISTRY_URL"||–ü–æ–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º, –¥–æ–±–∞–≤–∏–º –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ |
|"FRONTEND_REGISTRY_URL"||–ü–æ–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º, –¥–æ–±–∞–≤–∏–º –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ |
|"APP_INSTALL_ENVIRONMENT"|"momo-store"|Namespace –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ |
|"CM_CERT_ID"|<le_cert_id>|–∑–∞–º–µ–Ω–∏—Ç–µ <le_cert_id> –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ |

> [!warning]
> –í –∫–∞—á–µ—Å—Ç–≤–µ DOCKER_REGISTRY_USERNAME/DOCKER_REGISTRY_PASSWORD –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∞—à –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –æ—Ç gitab'a (–º—ã –Ω–µ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å deploy —Ç–æ–∫–µ–Ω—ã –∏ —Ç.–ø.)
> –í –∫–∞—á–µ—Å—Ç–≤–µ BACKEND_REGISTRY_URL/FRONTEND_REGISTRY_URL –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ –≤–∏–¥–∞: "gitlab.praktikum-services.ru:5050/std-ext-011-46/momo-store/frontend"
> –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è APP_INSTALL_ENVIRONMENT —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∏–º—è –Ω–µ–π–º—Å–ø–µ–π—Å–∞ –≤ –∫–æ—Ç–æ—Ä–æ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∞—Ä—Ç, –º–æ–∂–µ—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º KUBECONFIG_CONTEXT_NAMESPACE. –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ —É–∫–∞–∑–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ –≤ —á–∞—Ä—Ç–µ –µ—Å—Ç—å —Ä–µ—Å—É—Ä—Å—ã, —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–µ —Å –ø–æ–º–æ—â—å—é —Ö—É–∫–æ–≤. –¢–∞–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã –Ω–µ —Å–ª–µ–¥—É—é—Ç –∑–∞ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —á–∞—Ä—Ç–∞, –≤ —Ç–æ–º —á–∏—Å–ª–µ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –µ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è.
> ALB_SUBNETS –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å CIDR –ø–æ–¥—Å–µ—Ç–µ–π –∫–ª–∞—Å—Ç–µ—Ä–∞
> ALB_SEC_GROUP —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≥—Ä—É–ø–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –º—ã –ø–æ–ª—É—á–∞–ª–∏ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
> ALB_EXT_IPV4_ADDR —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–º—É –∞–¥—Ä–µ—Å—É ALB –º–æ–∂–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å—É A-–∑–∞–ø–∏—Å–∏ –¥–æ–º–µ–Ω–Ω–æ–π –∑–æ–Ω—ã, –º—ã –ø–æ–ª—É—á–∞–ª–∏ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
> ALB_GROUP_NAME –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∏–º—è ALB, Ingress-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Å —Å–æ–≤–ø–∞–¥–∞—é—â–∏–º –∏–º–µ–Ω–µ–º –≥—Ä—É–ø–ø—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –æ–¥–∏–Ω L7-–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫, –º—ã –ø–æ–ª—É—á–∞–ª–∏ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ gitlab.praktikum-services.ru. –°–±–æ—Ä–∫–∞ —á–∞—Ä—Ç–∞ –Ω–∞—á–Ω—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. ‚ùó –ù–µ –∑–∞–±–µ–≥–∞–π—Ç–µ –≤–ø–µ—Ä—ë–¥, –Ω–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é —à–∞–≥ deploy –≤ UI Gitlab'a.

5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ UI Gitlab'a –∏ –≤ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –ø–∞–π–ø–ª–∞–π–Ω–µ –Ω–∞–π–¥–∏—Ç–µ –∑–∞–¥–∞—á—É —Å –∏–º–µ–Ω–µ–º "release_chart" (stage release)., –Ω–∞–π–¥–∏—Ç–µ –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ –µ—ë –ª–æ–≥–æ–≤ –∑–Ω–∞—á–µ–Ω–∏—è: 'CI_API_V4_URL' –∏ 'CI_PROJECT_ID'., –≤–æ—Ç —Ç–∞–∫ –æ–Ω–∏ –º–æ–≥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å:
![alt text](image.png)
–ó–∞–ø–∏—à–∏—Ç–µ –≥–¥–µ-–Ω–∏–±—É–¥—å –∑–Ω–∞—á–Ω–∏—è —ç—Ç–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –æ–Ω–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ.

6. üèÅ –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –º—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–∞–π–ø–∞–ª–∞–π–Ω–∞ —Å —á–∞—Ä—Ç–∞–º–∏, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö `CI_API_V4_URL` –∏ `CI_PROJECT_ID`. –¢–µ–ø–µ—Ä—å —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –ø–∞–π–ø–ª–∞–π–Ω–∞ —Å–±–æ—Ä–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ https://gitlab.praktikum-services.ru/std-ext-011-46/momo-store/-/tree/dev?ref_type=heads (–≤–µ—Ç–∫–∞ dev)




## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–∞—Ä—Ç–∞ –≤ —Å–≤–æ—ë–º –∫–ª–∞—Å—Ç–µ—Ä–µ:
> [!note]  
> –ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —á–∞—Ä—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã: __helm__, __kubectl__

1. –°–∫–∞—á–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: git clone  https://gitlab.praktikum-services.ru/std-ext-011-46/momo-store-chart.git

2. –í –∫–ª–∞—Å—Ç–µ—Ä–µ kubernetes –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ä–µ—Å—É—Ä—Å ( —Ç–∏–ø Secret ) —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –≤–∞—à–µ–º—É docker registry gitlab'a:
–ò–∑–º–µ–Ω–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ __dockerconfigjson.yaml__ —Å—Ç—Ä–æ–∫—É 'base64 encoded docker secret' –Ω–∞ –≤–∞–ª–∏–¥–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ docker-registry (https://clck.ru/3H6XKi) –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ base64: 
	1) –¥–µ–∫–æ–¥–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥: 'ewoJImF1dGhzIjogewoJCSJnaXRsYWIucHJha3Rpa3VtLXNlcnZpY2VzLnJ1OjUwNTAiOnsKCQkJImF1dGgiOiAiUEd4dloybHVPbkJoYzNOM2IzSmtQZz09IgoJCX0KCX0KfQ==' 
	2) –¥–µ–∫–æ–¥–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É: 'PGxvZ2luOnBhc3N3b3JkPg==' 
	3) –∑–∞–º–µ–Ω–∏—Ç–µ –µ—ë –Ω–∞ –≤–∞—à–∏ –∑–Ω–∞—á–µ–Ω–∏—è, –∑–∞–∫–æ–¥–∏—Ä—É–π—Ç–µ –∏ –ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ –≤ –∫–æ–Ω—Ñ–∏–≥ 
	4) –∑–∞–∫–æ–¥–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ –∏ –ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—É—á–∏–≤—à—É—é—Å—è —Å—Ç—Ä–æ–∫—É –∑–∞  –º–µ—Å—Ç–æ 'base64 encoded docker secret' 
	5) –∑–∞–º–µ–Ω–∏—Ç–µ 'secret-name' –Ω–∞ –ª—é–±–æ–µ –∏–º—è __–∏ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ__ –µ–≥–æ —Ç–∞–∫ –∂–µ –∏–∑–º–µ–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª–µ __values.yaml__: global.backend.docker_secret_name –∏ global.frontend.docker_secret_name !
	6) —Å–æ–∑–¥–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å: `kubectl apply -f dockerconfigjson.yaml`

3. –í —Ñ–∞–π–ª–µ __values.yaml__ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã global.backend.version –∏ global.frontend.version –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π –∏–∑ –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –∫–æ–¥–æ–º.

4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á–∞—Ä—Ç –∏ —Å–ª–µ–¥—É–π—Ç–µ –¥–∞–ª—å–Ω–µ–π—à–∏–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º: `helm install momo-store ./charts -n momo-namespace --atomic`
> [!tip] 
> –£—Å—Ç–∞–Ω–≤–∞–ª–∏–≤–∞–π—Ç–µ —á–∞—Ä—Ç –≤ –Ω–æ–≤—ã–π namespace. –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ prometheus –∏ grafana —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ö—É–∫–æ–≤, —á—Ç–æ–±—ã –±—ã—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è–º–∏ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —á–∞—Ä—Ç–∞. –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —á–∞—Ä—Ç–∞, —ç—Ç–∏ —Ä–µ—Å—É—Ä—Å—ã –Ω–µ —É–¥–∞–ª—è—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –æ—Å–Ω–æ–≤–Ω—ã–º —á–∞—Ä—Ç–æ–º, –∏—Ö –ø—Ä–∏–¥—ë—Ç—Å—è —É–¥–∞–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é!

–ü–æ—Å–ª–µ —ç—Ç–∏—Ö —à–∞–≥–æ–≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä, grafana –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–∫ –∂–µ —Å—Ä–∞–∑—É –¥–æ—Å—Ç—É–ø–Ω–∞, –Ω–∏–∫–∞–∫–æ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.


